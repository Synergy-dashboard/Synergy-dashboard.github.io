"use strict";(self.webpackChunkoneaj_angular=self.webpackChunkoneaj_angular||[]).push([[324],{4324:(y,c,a)=>{a.r(c),a.d(c,{CreateUserModule:()=>N});var p=a(6895),m=a(4940),n=a(433),g=a(5226),u=a.n(g);class f{constructor(){this.id=0,this.firstName="",this.lastName="",this.userName="",this.crmemail="",this.actualEmail="",this.userType="",this.portals=new h}}class h{constructor(){this.ar=!1,this.ap=!1,this.gp=!1,this.quotation=!1,this.fileupload=!1}}var e=a(8256),U=a(529),Z=a(5620),C=a(7556);function b(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",29)(1,"td",4),e._uU(2),e.qZA(),e.TgZ(3,"td",4),e._uU(4),e.qZA(),e.TgZ(5,"td",4),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",34),e.NdJ("click",function(){const s=e.CHM(t).$implicit,q=e.oxw(2);return e.KtG(q.selectUser(s))}),e._UZ(9,"i",35),e.qZA()()()}if(2&o){const t=i.$implicit,r=i.index;e.xp6(2),e.hij(" ",r+1,""),e.xp6(2),e.hij(" ",t.firstName,""),e.xp6(2),e.hij(" ",t.lastName,"")}}function M(o,i){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,b,10,3,"tr",33),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.users)}}const d=function(){return{standalone:!0}},A=[{path:"",component:(()=>{class o{constructor(t,r,l,s){this.formbuilder=t,this.apiService=r,this.commonService=l,this.auth=s,this.expanded=!1,this.users=[],this.selectedUsers=new f,this.role=new h,this.newUserForm=this.formbuilder.group({firstName:["",[n.kI.required]],lastName:["",[n.kI.required]],crm_mailid:["",[n.kI.required]],phonenumber:["",[n.kI.required]],email:["",[n.kI.required]]})}ngOnInit(){this.userlist()}userlist(){this.apiService.get(this.commonService.apiUrl+"/userlist").subscribe({next:t=>{this.users=JSON.parse(JSON.stringify(t)),console.log(this.users)}})}selectUser(t){this.selectedUsers=t,this.role=t.portals,this.newUserForm.patchValue(t)}newUser(){const t=this.newUserForm.value;t.canaccess=this.role,t.username=this.newUserForm.value.firstName+this.newUserForm.value.lastName,t.tenantid=this.auth.currentUserValue.tenantid,console.log(this.selectedUsers),this.selectedUsers.id>0?this.apiService.patch(this.commonService.apiUrl+"/user/"+this.selectedUsers.id,t,{responseType:"text"}).subscribe({next:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"User updation was successfully completed",icon:"success"})},error:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error while updating user",icon:"warning"})}}):this.apiService.post("https://2wbzulxh9a.execute-api.ap-south-1.amazonaws.com/dashboard/",t,{responseType:"text"}).subscribe({next:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"New user creation was successfully completed",icon:"success"})},error:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error while creating new user",icon:"warning"})}})}showCheckboxes(){const t=document.getElementById("checkboxes");this.expanded?(t.style.display="none",this.expanded=!1):(t.style.display="block",this.expanded=!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.qu),e.Y36(U.eN),e.Y36(Z.v),e.Y36(C.h))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-user"]],decls:82,vars:18,consts:[[1,"container"],[1,"col","p-5"],[1,"col","p-2","mt-2"],[1,"row"],[1,"col"],[1,"text-dark"],["action","",1,"form-group",3,"formGroup"],[1,"row","mt-5"],["for",""],[1,"text-danger"],["type","text","name","firstName","formControlName","firstName","id","firstName","placeholder","Enter first name ...",1,"form-control"],["type","text","name","lastName","formControlName","lastName","id","lastName","placeholder","Enter last name ...",1,"form-control"],[1,"row","mt-4"],["type","email","name","crm_mailid","formControlName","crm_mailid","id","crm_mailid","placeholder","Enter email id like@syergy.com...",1,"form-control"],["type","email","name","email","formControlName","email","id","email","placeholder","Enter actual email...",1,"form-control"],["type","number","name","phonenumber","formControlName","phonenumber","id","phonenumber","placeholder","Enter mobile number...",1,"form-control"],["for","fileUpload",1,"col"],["type","checkbox","id","fileUpload","value","fileupload",3,"ngModel","ngModelOptions","ngModelChange"],["for","arDashboard",1,"col"],["type","checkbox","id","arDashboard","value","ar",3,"ngModel","ngModelOptions","ngModelChange"],["for","apDashboard",1,"col"],["type","checkbox","id","apDashboard","value","ap",3,"ngModel","ngModelOptions","ngModelChange"],["for","gpDashboard",1,"col"],["type","checkbox","id","gpDashboard","value","gp",3,"ngModel","ngModelOptions","ngModelChange"],["for","quotationDashboard",1,"col"],["type","checkbox","id","quotation","value","quotation",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"p-0","mt-5"],[1,""],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngIf"],["class","",4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-edit"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6," Add new user "),e.qZA()()()(),e.TgZ(7,"div",4)(8,"form",6)(9,"div",7)(10,"div",4)(11,"label",8),e._uU(12,"First Name "),e.TgZ(13,"span",9),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",4)(17,"label",8),e._uU(18,"Last Name "),e.TgZ(19,"span",9),e._uU(20,"*"),e.qZA()(),e._UZ(21,"input",11),e.qZA()(),e.TgZ(22,"div",12)(23,"div",4)(24,"label",8),e._uU(25,"CRM Email Id "),e.TgZ(26,"span",9),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",13),e.qZA(),e.TgZ(29,"div",4)(30,"label",8),e._uU(31,"Actual Email Id "),e.TgZ(32,"span",9),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",14),e.qZA()(),e.TgZ(35,"div",12)(36,"div",4)(37,"label",8),e._uU(38,"Phone Number "),e.TgZ(39,"span",9),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",15),e.qZA(),e._UZ(42,"div",4),e.qZA(),e.TgZ(43,"div",12)(44,"label",8),e._uU(45,"Can Access"),e.qZA(),e.TgZ(46,"label",16)(47,"input",17),e.NdJ("ngModelChange",function(s){return r.role.fileupload=s}),e.qZA(),e._uU(48," File Upload"),e.qZA(),e.TgZ(49,"label",18)(50,"input",19),e.NdJ("ngModelChange",function(s){return r.role.ar=s}),e.qZA(),e._uU(51," AR Dashboard"),e.qZA(),e.TgZ(52,"label",20)(53,"input",21),e.NdJ("ngModelChange",function(s){return r.role.ap=s}),e.qZA(),e._uU(54," AP Dashboard"),e.qZA(),e.TgZ(55,"label",22)(56,"input",23),e.NdJ("ngModelChange",function(s){return r.role.gp=s}),e.qZA(),e._uU(57," GP Dashboard"),e.qZA(),e.TgZ(58,"label",24)(59,"input",25),e.NdJ("ngModelChange",function(s){return r.role.quotation=s}),e.qZA(),e._uU(60," Quotation Dashboard"),e.qZA()(),e.TgZ(61,"div",26)(62,"div",4)(63,"button",27),e.NdJ("click",function(){return r.newUser()}),e._uU(64),e.qZA()()()(),e.TgZ(65,"div",28)(66,"h3",29),e._uU(67,"USER LIST"),e.qZA(),e.TgZ(68,"div",30)(69,"table",31)(70,"tr",29)(71,"th",4),e._uU(72,"#"),e.qZA(),e.TgZ(73,"th",4),e._uU(74,"FIRST NAME"),e.qZA(),e.TgZ(75,"th",4),e._uU(76,"LAST NAME"),e.qZA(),e.TgZ(77,"th",4),e._uU(78,"CRM EMAIL"),e.qZA(),e.TgZ(79,"th",4),e._uU(80,"Edit"),e.qZA()(),e.YNc(81,M,2,1,"tbody",32),e.qZA()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",r.newUserForm),e.xp6(39),e.Q6J("ngModel",r.role.fileupload)("ngModelOptions",e.DdM(13,d)),e.xp6(3),e.Q6J("ngModel",r.role.ar)("ngModelOptions",e.DdM(14,d)),e.xp6(3),e.Q6J("ngModel",r.role.ap)("ngModelOptions",e.DdM(15,d)),e.xp6(3),e.Q6J("ngModel",r.role.gp)("ngModelOptions",e.DdM(16,d)),e.xp6(3),e.Q6J("ngModel",r.role.quotation)("ngModelOptions",e.DdM(17,d)),e.xp6(5),e.hij(" ",""==r.selectedUsers.firstName?"Create":"Update"," User "),e.xp6(17),e.Q6J("ngIf",r.users.length>1))},dependencies:[p.sg,p.O5,n._Y,n.Fj,n.wV,n.Wl,n.JJ,n.JL,n.On,n.sg,n.u]}),o})(),canActivate:[a(5107).a]}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(A),m.Bz]}),o})(),N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,n.u5,n.UX,T]}),o})()}}]);