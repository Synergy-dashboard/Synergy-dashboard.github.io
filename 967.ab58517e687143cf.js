"use strict";(self.webpackChunkoneaj_angular=self.webpackChunkoneaj_angular||[]).push([[967],{7967:(C,d,l)=>{l.r(d),l.d(d,{FileUploadModule:()=>y});var f=l(6895),c=l(4940),s=l(433),m=l(5226),p=l.n(m),t=l(8256),h=l(529),g=l(5620),U=l(7556);function _(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1," Select the File"),t.qZA())}function T(e,r){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,_,2,0,"span",22),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.arform.controls.arfile.errors)}}function b(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1," Select the File"),t.qZA())}function v(e,r){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,b,2,0,"span",22),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.apform.controls.apfile.errors)}}function Z(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1," Select the File"),t.qZA())}function A(e,r){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,Z,2,0,"span",22),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.gpform.controls.gpfile.errors)}}function D(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1," Select the File"),t.qZA())}function q(e,r){if(1&e&&(t.TgZ(0,"span",21),t.YNc(1,D,2,0,"span",22),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.quotationform.controls.quotationfile.errors)}}const S=[{path:"",component:(()=>{class e{constructor(a,o,n,i){this.formbuilder=a,this.apiService=o,this.commonService=n,this.auth=i,this.arform=this.formbuilder.group({arfile:["",[s.kI.required]]}),this.apform=this.formbuilder.group({apfile:["",[s.kI.required]]}),this.gpform=this.formbuilder.group({gpfile:["",[s.kI.required]]}),this.quotationform=this.formbuilder.group({quotationfile:["",[s.kI.required]]})}ngOnInit(){}ar(){(new FormData).append("file",this.arfilesData);const o=String(this.auth.currentUserValue.tenantid)+"-arDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(o),this.arfilesData,{responseType:"text"}).subscribe({next:n=>{const i={filename:o,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://ga2us4lye7.execute-api.ap-south-1.amazonaws.com/dashboard/",i,{responseType:"text"}).subscribe({next:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"AR Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}ap(){const a=new FormData;a.append("file",this.apfilesData),a.append("from","ap");const o=String(this.auth.currentUserValue.tenantid)+"-apDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(o),this.apfilesData,{responseType:"text"}).subscribe({next:n=>{const i={filename:o,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://io4ekyk71b.execute-api.ap-south-1.amazonaws.com/dashboard/",i,{responseType:"text"}).subscribe({next:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"AP Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}gp(){const a=new FormData;a.append("file",this.gpfilesData),a.append("from","gp");const o=String(this.auth.currentUserValue.tenantid)+"-gpDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(o),this.gpfilesData,{responseType:"text"}).subscribe({next:n=>{const i={filename:o,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://9u0lsemy2m.execute-api.ap-south-1.amazonaws.com/dashboard/",i,{responseType:"text"}).subscribe({next:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"GP Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}quotation(){const a=new FormData;a.append("file",this.quotationfilesData),a.append("from","quotation");const o=String(this.auth.currentUserValue.tenantid)+"-quotationDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(o),this.quotationfilesData,{responseType:"text"}).subscribe({next:n=>{const i={filename:o,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://8qjl13r75j.execute-api.ap-south-1.amazonaws.com/dashboard/",i,{responseType:"text"}).subscribe({next:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"Quotation Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:u=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}arfileUpload(a){this.arfilesData=a.target.files[0],console.log(this.arfilesData)}apfileUpload(a){this.apfilesData=a.target.files[0]}gpfileUpload(a){this.gpfilesData=a.target.files[0]}quotationfileUpload(a){this.quotationfilesData=a.target.files[0]}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(s.qu),t.Y36(h.eN),t.Y36(g.v),t.Y36(U.h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-file-upload"]],decls:63,vars:8,consts:[[1,"p-4"],[1,"col"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"col-md","border","border-radius-1","m-2","p-0","overflow-hide",2,"background-color","#fff !important","width","25vw","height","16vw"],[1,"bg-primary-2","text-white","p-1",2,"padding-left","10px !important"],[1,"col","p-5","m-1"],["enctype","multipart/form-data",1,"form-group",3,"formGroup"],[1,"col-sm"],["for",""],["type","file","name","upload_file","id","upload_file","formControlName","arfile",1,"form-control",3,"change"],["class","text-danger c-1",4,"ngIf"],["type","submit","value","Upload Data",1,"btn","btn-success","mt-4",3,"click"],["download","ar","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/ar.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","apfile",1,"form-control",3,"change"],["download","ap","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/ap.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","gpfile",1,"form-control",3,"change"],["download","gp","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/gp.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","quotationfile",1,"form-control",3,"change"],["download","quotation","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/quotation.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],[1,"text-danger","c-1"],[4,"ngIf"]],template:function(a,o){1&a&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5)(7,"h6",6),t._uU(8,"AR DASHBOARD DATA"),t.qZA(),t.TgZ(9,"div",7)(10,"form",8)(11,"div",9)(12,"label",10),t._uU(13,"AR Data"),t.qZA(),t.TgZ(14,"input",11),t.NdJ("change",function(i){return o.arfileUpload(i)}),t.qZA(),t.YNc(15,T,2,1,"span",12),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){return o.ar()}),t._uU(17,"Upload Data"),t.qZA(),t.TgZ(18,"a",14),t._uU(19,"Download Template"),t.qZA()()()(),t.TgZ(20,"div",5)(21,"h6",6),t._uU(22,"AP DASHBOARD DATA"),t.qZA(),t.TgZ(23,"div",7)(24,"form",8)(25,"div",9)(26,"label",10),t._uU(27,"AP Data"),t.qZA(),t.TgZ(28,"input",15),t.NdJ("change",function(i){return o.apfileUpload(i)}),t.qZA(),t.YNc(29,v,2,1,"span",12),t.qZA(),t.TgZ(30,"button",13),t.NdJ("click",function(){return o.ap()}),t._uU(31,"Upload Data"),t.qZA(),t.TgZ(32,"a",16),t._uU(33,"Download Template"),t.qZA()()()()(),t.TgZ(34,"div",3)(35,"div",5)(36,"h6",6),t._uU(37,"GP DASHBOARD DATA"),t.qZA(),t.TgZ(38,"div",7)(39,"form",8)(40,"div",9)(41,"label",10),t._uU(42,"GP Data"),t.qZA(),t.TgZ(43,"input",17),t.NdJ("change",function(i){return o.gpfileUpload(i)}),t.qZA(),t.YNc(44,A,2,1,"span",12),t.qZA(),t.TgZ(45,"button",13),t.NdJ("click",function(){return o.gp()}),t._uU(46,"Upload Data"),t.qZA(),t.TgZ(47,"a",18),t._uU(48,"Download Template"),t.qZA()()()(),t.TgZ(49,"div",5)(50,"h6",6),t._uU(51,"QUOTATION DASHBOARD DATA"),t.qZA(),t.TgZ(52,"div",7)(53,"form",8)(54,"div",9)(55,"label",10),t._uU(56,"Quotation Data"),t.qZA(),t.TgZ(57,"input",19),t.NdJ("change",function(i){return o.quotationfileUpload(i)}),t.qZA(),t.YNc(58,q,2,1,"span",12),t.qZA(),t.TgZ(59,"button",13),t.NdJ("click",function(){return o.quotation()}),t._uU(60,"Upload Data"),t.qZA(),t.TgZ(61,"a",20),t._uU(62,"Download Template"),t.qZA()()()()()()()()()),2&a&&(t.xp6(10),t.Q6J("formGroup",o.arform),t.xp6(5),t.Q6J("ngIf",o.arform.controls.arfile.invalid&&(o.arform.controls.arfile.dirty||o.arform.controls.arfile.touched)),t.xp6(9),t.Q6J("formGroup",o.apform),t.xp6(5),t.Q6J("ngIf",o.apform.controls.apfile.invalid&&(o.apform.controls.apfile.dirty||o.apform.controls.apfile.touched)),t.xp6(10),t.Q6J("formGroup",o.gpform),t.xp6(5),t.Q6J("ngIf",o.gpform.controls.gpfile.invalid&&(o.gpform.controls.gpfile.dirty||o.gpform.controls.gpfile.touched)),t.xp6(9),t.Q6J("formGroup",o.quotationform),t.xp6(5),t.Q6J("ngIf",o.quotationform.controls.quotationfile.invalid&&(o.quotationform.controls.quotationfile.dirty||o.quotationform.controls.quotationfile.touched)))},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),e})(),canActivate:[l(5107).a]}];let F=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(S),c.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.ez,s.u5,s.UX,F]}),e})()}}]);