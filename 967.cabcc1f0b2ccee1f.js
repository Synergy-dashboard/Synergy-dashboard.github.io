"use strict";(self.webpackChunkoneaj_angular=self.webpackChunkoneaj_angular||[]).push([[967],{7967:(I,u,l)=>{l.r(u),l.d(u,{FileUploadModule:()=>Q});var f=l(6895),c=l(4940),s=l(433),m=l(5226),p=l.n(m),e=l(8256),h=l(529),g=l(5620),U=l(7556);function _(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1," Select the File"),e.qZA())}function T(t,i){if(1&t&&(e.TgZ(0,"span",23),e.YNc(1,_,2,0,"span",24),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.arform.controls.arfile.errors)}}function b(t,i){1&t&&e._UZ(0,"span",25)}function Z(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1," Select the File"),e.qZA())}function v(t,i){if(1&t&&(e.TgZ(0,"span",23),e.YNc(1,Z,2,0,"span",24),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.apform.controls.apfile.errors)}}function F(t,i){1&t&&e._UZ(0,"span",25)}function A(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1," Select the File"),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"span",23),e.YNc(1,A,2,0,"span",24),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.gpform.controls.gpfile.errors)}}function D(t,i){1&t&&e._UZ(0,"span",25)}function w(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1," Select the File"),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"span",23),e.YNc(1,w,2,0,"span",24),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.quotationform.controls.quotationfile.errors)}}function S(t,i){1&t&&e._UZ(0,"span",25)}const N=[{path:"",component:(()=>{class t{constructor(o,a,n,r){this.formbuilder=o,this.apiService=a,this.commonService=n,this.auth=r,this.uploadFile={ar:!1,ap:!1,gp:!1,quotation:!1},this.arform=this.formbuilder.group({arfile:["",[s.kI.required]]}),this.apform=this.formbuilder.group({apfile:["",[s.kI.required]]}),this.gpform=this.formbuilder.group({gpfile:["",[s.kI.required]]}),this.quotationform=this.formbuilder.group({quotationfile:["",[s.kI.required]]})}ngOnInit(){}ar(){this.uploadFile.ar=!0,(new FormData).append("file",this.arfilesData);const a=String(this.auth.currentUserValue.tenantid)+"-arDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(a),this.arfilesData,{responseType:"text"}).subscribe({next:n=>{const r={filename:a,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://ga2us4lye7.execute-api.ap-south-1.amazonaws.com/dashboard/",r,{responseType:"text"}).subscribe({next:d=>{this.uploadFile.ar=!1,p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"AR Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:d=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}ap(){this.uploadFile.ap=!0;const o=new FormData;o.append("file",this.apfilesData),o.append("from","ap");const a=String(this.auth.currentUserValue.tenantid)+"-apDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(a),this.apfilesData,{responseType:"text"}).subscribe({next:n=>{const r={filename:a,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://io4ekyk71b.execute-api.ap-south-1.amazonaws.com/dashboard/",r,{responseType:"text"}).subscribe({next:d=>{this.uploadFile.ap=!1,p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"AP Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:d=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}gp(){this.uploadFile.gp=!0;const o=new FormData;o.append("file",this.gpfilesData),o.append("from","gp");const a=String(this.auth.currentUserValue.tenantid)+"-gpDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(a),this.gpfilesData,{responseType:"text"}).subscribe({next:n=>{const r={filename:a,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://9u0lsemy2m.execute-api.ap-south-1.amazonaws.com/dashboard/",r,{responseType:"text"}).subscribe({next:d=>{this.uploadFile.gp=!1,p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"GP Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:d=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}quotation(){this.uploadFile.quotation=!0;const o=new FormData;o.append("file",this.quotationfilesData),o.append("from","quotation");const a=String(this.auth.currentUserValue.tenantid)+"-quotationDashboard.csv";this.apiService.put("https://67p7avsi9e.execute-api.ap-south-1.amazonaws.com/dashboard/dashboard-uploaded-files/"+String(a),this.quotationfilesData,{responseType:"text"}).subscribe({next:n=>{const r={filename:a,tenant_id:String(this.auth.currentUserValue.tenantid)};this.apiService.post("https://8qjl13r75j.execute-api.ap-south-1.amazonaws.com/dashboard/",r,{responseType:"text"}).subscribe({next:d=>{this.uploadFile.quotation=!1,p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"Quotation Data Uploaded Successfully. Note (The data will reflect within 5mins)",icon:"success"})},error:d=>{p().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error Uploaded data",icon:"warning"})}})},error:n=>{console.log(n)}})}arfileUpload(o){this.arfilesData=o.target.files[0],console.log(this.arfilesData)}apfileUpload(o){this.apfilesData=o.target.files[0]}gpfileUpload(o){this.gpfilesData=o.target.files[0]}quotationfileUpload(o){this.quotationfilesData=o.target.files[0]}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(h.eN),e.Y36(g.v),e.Y36(U.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-file-upload"]],decls:71,vars:16,consts:[[1,"p-4"],[1,"col"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"col-md","border","border-radius-1","m-2","p-0","overflow-hide",2,"background-color","#fff !important","width","25vw","height","16vw"],[1,"bg-primary-2","text-white","p-1",2,"padding-left","10px !important"],[1,"col","p-5","m-1"],["enctype","multipart/form-data",1,"form-group",3,"formGroup"],[1,"col-sm"],["for",""],["type","file","name","upload_file","id","upload_file","formControlName","arfile",1,"form-control",3,"change"],["class","text-danger c-1",4,"ngIf"],["type","submit","value","Upload Data",1,"btn","btn-success","mt-4",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,""],["download","ar","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/ar.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","apfile",1,"form-control",3,"change"],["download","ap","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/ap.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","gpfile",1,"form-control",3,"change"],["download","gp","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/gp.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],["type","file","name","upload_file","id","upload_file","formControlName","quotationfile",1,"form-control",3,"change"],["download","quotation","target","_blank","href","https://dashboardarapgp.s3.ap-south-1.amazonaws.com/files/quotation.csv",1,"btn","btn-success","mt-4",2,"margin-left","25px !important"],[1,"text-danger","c-1"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(o,a){1&o&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5)(7,"h6",6),e._uU(8,"AR DASHBOARD DATA"),e.qZA(),e.TgZ(9,"div",7)(10,"form",8)(11,"div",9)(12,"label",10),e._uU(13,"AR Data"),e.qZA(),e.TgZ(14,"input",11),e.NdJ("change",function(r){return a.arfileUpload(r)}),e.qZA(),e.YNc(15,T,2,1,"span",12),e.qZA(),e.TgZ(16,"button",13),e.NdJ("click",function(){return a.ar()}),e.YNc(17,b,1,0,"span",14),e.TgZ(18,"span",15),e._uU(19," Upload Data"),e.qZA()(),e.TgZ(20,"a",16),e._uU(21,"Download Template"),e.qZA()()()(),e.TgZ(22,"div",5)(23,"h6",6),e._uU(24,"AP DASHBOARD DATA"),e.qZA(),e.TgZ(25,"div",7)(26,"form",8)(27,"div",9)(28,"label",10),e._uU(29,"AP Data"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("change",function(r){return a.apfileUpload(r)}),e.qZA(),e.YNc(31,v,2,1,"span",12),e.qZA(),e.TgZ(32,"button",13),e.NdJ("click",function(){return a.ap()}),e.YNc(33,F,1,0,"span",14),e.TgZ(34,"span",15),e._uU(35," Upload Data"),e.qZA()(),e.TgZ(36,"a",18),e._uU(37,"Download Template"),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",5)(40,"h6",6),e._uU(41,"GP DASHBOARD DATA"),e.qZA(),e.TgZ(42,"div",7)(43,"form",8)(44,"div",9)(45,"label",10),e._uU(46,"GP Data"),e.qZA(),e.TgZ(47,"input",19),e.NdJ("change",function(r){return a.gpfileUpload(r)}),e.qZA(),e.YNc(48,q,2,1,"span",12),e.qZA(),e.TgZ(49,"button",13),e.NdJ("click",function(){return a.gp()}),e.YNc(50,D,1,0,"span",14),e.TgZ(51,"span",15),e._uU(52," Upload Data"),e.qZA()(),e.TgZ(53,"a",20),e._uU(54,"Download Template"),e.qZA()()()(),e.TgZ(55,"div",5)(56,"h6",6),e._uU(57,"QUOTATION DASHBOARD DATA"),e.qZA(),e.TgZ(58,"div",7)(59,"form",8)(60,"div",9)(61,"label",10),e._uU(62,"Quotation Data"),e.qZA(),e.TgZ(63,"input",21),e.NdJ("change",function(r){return a.quotationfileUpload(r)}),e.qZA(),e.YNc(64,x,2,1,"span",12),e.qZA(),e.TgZ(65,"button",13),e.NdJ("click",function(){return a.quotation()}),e.YNc(66,S,1,0,"span",14),e.TgZ(67,"span",15),e._uU(68," Upload Data"),e.qZA()(),e.TgZ(69,"a",22),e._uU(70,"Download Template"),e.qZA()()()()()()()()()),2&o&&(e.xp6(10),e.Q6J("formGroup",a.arform),e.xp6(5),e.Q6J("ngIf",a.arform.controls.arfile.invalid&&(a.arform.controls.arfile.dirty||a.arform.controls.arfile.touched)),e.xp6(1),e.Q6J("disabled",a.uploadFile.ar),e.xp6(1),e.Q6J("ngIf",a.uploadFile.ar),e.xp6(9),e.Q6J("formGroup",a.apform),e.xp6(5),e.Q6J("ngIf",a.apform.controls.apfile.invalid&&(a.apform.controls.apfile.dirty||a.apform.controls.apfile.touched)),e.xp6(1),e.Q6J("disabled",a.uploadFile.ap),e.xp6(1),e.Q6J("ngIf",a.uploadFile.ap),e.xp6(10),e.Q6J("formGroup",a.gpform),e.xp6(5),e.Q6J("ngIf",a.gpform.controls.gpfile.invalid&&(a.gpform.controls.gpfile.dirty||a.gpform.controls.gpfile.touched)),e.xp6(1),e.Q6J("disabled",a.uploadFile.gp),e.xp6(1),e.Q6J("ngIf",a.uploadFile.gp),e.xp6(9),e.Q6J("formGroup",a.quotationform),e.xp6(5),e.Q6J("ngIf",a.quotationform.controls.quotationfile.invalid&&(a.quotationform.controls.quotationfile.dirty||a.quotationform.controls.quotationfile.touched)),e.xp6(1),e.Q6J("disabled",a.uploadFile.quotation),e.xp6(1),e.Q6J("ngIf",a.uploadFile.quotation))},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),t})(),canActivate:[l(5107).a]}];let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(N),c.Bz]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,s.u5,s.UX,J]}),t})()}}]);